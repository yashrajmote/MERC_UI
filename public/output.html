<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="icon" href="images/abhitech-mahagenco-combined-logo.png" type="image/png">
    <title>Output - Mahagenco</title>
</head>
<body class="bg-gray-100">
    <div class="max-h-screen flex flex-col">
        <nav class="fixed top-0 left-0 w-full z-50 bg-white shadow h-20">
            <div class="mb-4 flex w-full h-3 bg-white-50">
                <img src="images/abhitech-mahagenco-combined-logo.png" alt="Logo" class="h-20 ">
            </div>
            <div id="selectedLabel" class="flex justify-center text-2xl font-bold text-gray-700">
            </div>
            <div class="fixed top-7 right-4">
                <button onclick="window.location.href='index.html'" >
                    <img src="images/icons8-back-48.png" alt="Back" class="h-9 w-9 mr-2">
                </button>
            </div>
        </nav>
        <main class="content mt-16 h-[calc(100vh-4rem)] p-4">
            <div class="bg-white p-6 rounded-lg shadow-lg w-full">
                <div class="text-gray-700">
                    <!-- Report Output Container -->
                    <div id="reportContainer" class="grid grid-cols-2 gap-4 text-sm font-bold leading-6 ">
                        <pre id="reportOutput" class="mb-25 p-1 bg-gray-200 rounded"></pre>
                        <div class="grid grid-cols-2 gap-1">
                            <div class="bg-white shadow-sm rounded-sm p-4">
                                <h2 class="text-lg font-semibold mb-2">Availability Factor</h2>
                                <canvas id="chart1" class="w-full h-32"></canvas>
                            </div>
                            <div class="bg-white shadow-md rounded-sm p-4">
                                <h2 class="text-lg font-semibold mb-2">Heat Rate</h2>
                                <canvas id="chart2" class="w-full h-32"></canvas>
                            </div>
                            <div class="bg-white shadow-md rounded-sm p-4">
                                <h2 class="text-lg font-semibold mb-2">Auxiliary Power Consumption</h2>
                                <canvas id="chart3" class="w-full h-32"></canvas>
                            </div>
                            <div class="bg-white shadow-md rounded-sm p-4">
                                <h2 class="text-lg font-semibold mb-2">Specific Oil Consumption</h2>
                                <canvas id="chart4" class="w-full h-32"></canvas>
                            </div>
                            <div class="bg-white shadow-md rounded-sm p-4">
                                <h2 class="text-lg font-semibold mb-2">Transit Loss</h2>
                                <canvas id="chart5" class="w-full h-32"></canvas>
                            </div>
                            <div class=" bg-white shadow-md rounded-lg p-4">
                                <h2 class="text-lg font-semibold mb-2">Incentives</h2>
                                <canvas id="chart6" width="500" height="100"></canvas>
                            </div>
                            
                        </div>
                        <div class="grid grid-cols-2 gap-1">
                            
                            <div class="justify-right bg-white shadow-md rounded-lg">
                                <h2 class="text-lg font-semibold mb-2">Additional Incentives</h2>
                                <canvas id="chart7" width="200" height="200"></canvas>
                            </div>
                        </div>
                        </div>
                    </div>
                    
                </div>
           
        </main>
    </div>
    <script src="js/scripts.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        
document.addEventListener('DOMContentLoaded', function() {

    // Retrieve the stored data from localStorage
    const reportData = JSON.parse(localStorage.getItem('reportData'));
    const selectedLabel = JSON.parse(localStorage.getItem('selectedLabel'));
    console.log(selectedLabel)

    const selects = document.querySelectorAll('select');
    selects.forEach(select => {
        
    })
    if (selectedLabel) {
        document.getElementById('selectedLabel').textContent = selectedLabel;
    }
    
    if (reportData) {
        generateReport(
            reportData.gainValues,
            reportData.afterCalculations,
            reportData.ROEValues,
            reportData.parsedValues
        );
    }
});

    </script>
</body>
</html>
